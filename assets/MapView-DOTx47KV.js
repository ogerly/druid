const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/poisStore-DeUDQaGf.js","assets/index-BfhLa0rh.js","assets/index-DtM2mOkI.css"])))=>i.map(i=>d[i]);
import{d as B,h as x,p as j,o as k,_,m as z,n as w,a as oe,r as b,b as Ve,c as Y,i as E,w as ve,e as ie,f as $e,g as Q,j as H,k as D,u as m,l as R,q as W,s as ge,t as be,F as ne,v as ae,x as J,y as he}from"./index-BfhLa0rh.js";import{u as Ze,a as Fe,L as Le}from"./poisStore-DeUDQaGf.js";const Se=(e,t)=>{for(const o of Object.keys(t))e.on(o,t[o])},Ae=e=>{for(const t of Object.keys(e)){const o=e[t];o&&I(o.cancel)&&o.cancel()}},qe=e=>!e||typeof e.charAt!="function"?e:e.charAt(0).toUpperCase()+e.slice(1),I=e=>typeof e=="function",N=(e,t,o)=>{for(const l in o){const a="set"+qe(l);e[a]?ve(()=>o[l],(n,i)=>{e[a](n,i)}):t[a]&&ve(()=>o[l],n=>{t[a](n)})}},A=(e,t,o={})=>{const l={...o};for(const a in e){const n=t[a],i=e[a];n&&(n&&n.custom===!0||i!==void 0&&(l[a]=i))}return l},M=e=>{const t={},o={};for(const l in e)if(l.startsWith("on")&&!l.startsWith("onUpdate")&&l!=="onReady"){const a=l.slice(2).toLocaleLowerCase();t[a]=e[l]}else o[l]=e[l];return{listeners:t,attrs:o}},Ge=async e=>{const t=await Promise.all([_(()=>import("./marker-icon-2x-D4k_ikNW.js"),[]),_(()=>import("./marker-icon-C2eJqgqv.js"),[]),_(()=>import("./marker-shadow-DU6CIJ0p.js"),[])]);delete e.Default.prototype._getIconUrl,e.Default.mergeOptions({iconRetinaUrl:t[0].default,iconUrl:t[1].default,shadowUrl:t[2].default})},ee=e=>{const t=b((...l)=>console.warn(`Method ${e} has been invoked without being replaced`)),o=(...l)=>t.value(...l);return o.wrapped=t,j(e,o),o},te=(e,t)=>e.wrapped.value=t,O=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||globalThis,L=e=>{const t=E(e);if(t===void 0)throw new Error(`Attempt to inject ${e.description} before it was provided.`);return t},U=Symbol("useGlobalLeaflet"),Z=Symbol("addLayer"),ue=Symbol("removeLayer"),Pe=Symbol("registerControl"),He=Symbol("registerLayerControl"),Te=Symbol("canSetParentHtml"),Re=Symbol("setParentHtml"),je=Symbol("setIcon"),Be=Symbol("bindPopup"),We=Symbol("bindTooltip"),ke=Symbol("unbindPopup"),Je=Symbol("unbindTooltip"),K={options:{type:Object,default:()=>({}),custom:!0}},X=e=>({options:e.options,methods:{}}),F={...K,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},de=(e,t,o)=>{const l=L(Z),a=L(ue),{options:n,methods:i}=X(e),s=A(e,F,n),r=()=>l({leafletObject:t.value}),y=()=>a({leafletObject:t.value}),p={...i,setAttribution(d){y(),t.value.options.attribution=d,e.visible&&r()},setName(){y(),e.visible&&r()},setLayerType(){y(),e.visible&&r()},setVisible(d){t.value&&(d?r():y())},bindPopup(d){if(!t.value||!I(t.value.bindPopup)){console.warn("Attempt to bind popup before bindPopup method available on layer.");return}t.value.bindPopup(d)},bindTooltip(d){if(!t.value||!I(t.value.bindTooltip)){console.warn("Attempt to bind tooltip before bindTooltip method available on layer.");return}t.value.bindTooltip(d)},unbindTooltip(){t.value&&(I(t.value.closeTooltip)&&t.value.closeTooltip(),I(t.value.unbindTooltip)&&t.value.unbindTooltip())},unbindPopup(){t.value&&(I(t.value.closePopup)&&t.value.closePopup(),I(t.value.unbindPopup)&&t.value.unbindPopup())},updateVisibleProp(d){o.emit("update:visible",d)}};return j(Be,p.bindPopup),j(We,p.bindTooltip),j(ke,p.unbindPopup),j(Je,p.unbindTooltip),ie(()=>{p.unbindPopup(),p.unbindTooltip(),y()}),{options:s,methods:p}},Ie=(e,t)=>{if(e&&t.default)return x("div",{style:{display:"none"}},t.default())},Ee={...F,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},Ke=(e,t,o)=>{const{options:l,methods:a}=de(e,t,o);return{options:A(e,Ee,l),methods:a}},ce={...Ee,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},Xe=(e,t,o)=>{const{options:l,methods:a}=Ke(e,t,o),n=A(e,ce,l),i=L(ue),s={...a,setStroke(r){t.value.setStyle({stroke:r})},setColor(r){t.value.setStyle({color:r})},setWeight(r){t.value.setStyle({weight:r})},setOpacity(r){t.value.setStyle({opacity:r})},setLineCap(r){t.value.setStyle({lineCap:r})},setLineJoin(r){t.value.setStyle({lineJoin:r})},setDashArray(r){t.value.setStyle({dashArray:r})},setDashOffset(r){t.value.setStyle({dashOffset:r})},setFill(r){t.value.setStyle({fill:r})},setFillColor(r){t.value.setStyle({fillColor:r})},setFillOpacity(r){t.value.setStyle({fillOpacity:r})},setFillRule(r){t.value.setStyle({fillRule:r})},setClassName(r){t.value.setStyle({className:r})}};return oe(()=>{i({leafletObject:t.value})}),{options:n,methods:s}},Ye={...ce,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}};({...Ye});const q={...K,position:{type:String}},Qe=(e,t)=>{const{options:o,methods:l}=X(e),a=A(e,q,o),n={...l,setPosition(i){t.value&&t.value.setPosition(i)}};return ie(()=>{t.value&&t.value.remove()}),{options:a,methods:n}},et=e=>e.default?x("div",{ref:"root"},e.default()):null;B({name:"LControl",props:{...q,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(e,t){const o=b(),l=b(),a=E(U),n=L(Pe),{options:i,methods:s}=Qe(e,o);return k(async()=>{const{Control:r,DomEvent:y}=a?O.L:await _(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]),p=r.extend({onAdd(){return l.value}});o.value=z(new p(i)),N(s,o.value,e),n({leafletObject:o.value}),e.disableClickPropagation&&l.value&&y.disableClickPropagation(l.value),e.disableScrollPropagation&&l.value&&y.disableScrollPropagation(l.value),w(()=>t.emit("ready",o.value))}),{root:l,leafletObject:o}},render(){return et(this.$slots)}});({...q});({...q});({...q});({...q});const Ne={...F};({...Ne});({...Ne});const pe={...F,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number},className:{type:String}},Ue=(e,t,o)=>{const{options:l,methods:a}=de(e,t,o),n=A(e,pe,l),i={...a,setTileComponent(){var s;(s=t.value)==null||s.redraw()}};return ie(()=>{t.value.off()}),{options:n,methods:i}},tt=(e,t,o,l)=>e.extend({initialize(a){this.tileComponents={},this.on("tileunload",this._unloadTile),o.setOptions(this,a)},createTile(a){const n=this._tileCoordsToKey(a);this.tileComponents[n]=t.create("div");const i=x({setup:l,props:["coords"]},{coords:a});return $e(i,this.tileComponents[n]),this.tileComponents[n]},_unloadTile(a){const n=this._tileCoordsToKey(a.coords);this.tileComponents[n]&&(this.tileComponents[n].innerHTML="",this.tileComponents[n]=void 0)}});B({props:{...pe,childRender:{type:Function,required:!0}},setup(e,t){const o=b(),l=b(null),a=b(!1),n=E(U),i=L(Z),{options:s,methods:r}=Ue(e,o,t);return k(async()=>{const{GridLayer:y,DomUtil:p,Util:d}=n?O.L:await _(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]),f=tt(y,p,d,e.childRender);o.value=z(new f(s));const{listeners:u}=M(t.attrs);o.value.on(u),N(r,o.value,e),i({...e,...r,leafletObject:o.value}),a.value=!0,w(()=>t.emit("ready",o.value))}),{root:l,ready:a,leafletObject:o}},render(){return this.ready?x("div",{style:{display:"none"},ref:"root"}):null}});const _e={iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}};B({name:"LIcon",props:{..._e,...K},setup(e,t){const o=b(),l=E(U),a=L(Te),n=L(Re),i=L(je);let s,r,y,p,d;const f=(P,g,h)=>{const S=P&&P.innerHTML;if(!g){h&&d&&a()&&n(S);return}const{listeners:$}=M(t.attrs);d&&r(d,$);const{options:le}=X(e),T=A(e,_e,le);S&&(T.html=S),d=T.html?y(T):p(T),s(d,$),i(d)},u=()=>{w(()=>f(o.value,!0,!1))},C=()=>{w(()=>f(o.value,!1,!0))},V={setIconUrl:u,setIconRetinaUrl:u,setIconSize:u,setIconAnchor:u,setPopupAnchor:u,setTooltipAnchor:u,setShadowUrl:u,setShadowRetinaUrl:u,setShadowAnchor:u,setBgPos:u,setClassName:u,setHtml:u};return k(async()=>{const{DomEvent:P,divIcon:g,icon:h}=l?O.L:await _(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);s=P.on,r=P.off,y=g,p=h,N(V,{},e),new MutationObserver(C).observe(o.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),u()}),{root:o}},render(){const e=this.$slots.default?this.$slots.default():void 0;return x("div",{ref:"root"},e)}});({...F});function De(e,t,o){var l,a,n;t===void 0&&(t=50),o===void 0&&(o={});var i=(l=o.isImmediate)!=null&&l,s=(a=o.callback)!=null&&a,r=o.maxWait,y=Date.now(),p=[];function d(){if(r!==void 0){var u=Date.now()-y;if(u+t>=r)return r-u}return t}var f=function(){var u=[].slice.call(arguments),C=this;return new Promise(function(V,P){var g=i&&n===void 0;if(n!==void 0&&clearTimeout(n),n=setTimeout(function(){if(n=void 0,y=Date.now(),!i){var S=e.apply(C,u);s&&s(S),p.forEach(function($){return(0,$.resolve)(S)}),p=[]}},d()),g){var h=e.apply(C,u);return s&&s(h),V(h)}p.push({resolve:V,reject:P})})};return f.cancel=function(u){n!==void 0&&clearTimeout(n),p.forEach(function(C){return(0,C.reject)(u)}),p=[]},f}const Ce={...K,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},ot=B({inheritAttrs:!1,emits:["ready","update:zoom","update:center","update:bounds"],props:Ce,setup(e,t){const o=b(),l=Ve({ready:!1,layersToAdd:[],layersInControl:[]}),{options:a}=X(e),n=A(e,Ce,a),{listeners:i,attrs:s}=M(t.attrs),r=ee(Z),y=ee(ue),p=ee(Pe),d=ee(He);j(U,e.useGlobalLeaflet);const f=Y(()=>{const g={};return e.noBlockingAnimations&&(g.animate=!1),g}),u=Y(()=>{const g=f.value;return e.padding&&(g.padding=e.padding),e.paddingTopLeft&&(g.paddingTopLeft=e.paddingTopLeft),e.paddingBottomRight&&(g.paddingBottomRight=e.paddingBottomRight),g}),C={moveend:De(g=>{l.leafletRef&&(t.emit("update:zoom",l.leafletRef.getZoom()),t.emit("update:center",l.leafletRef.getCenter()),t.emit("update:bounds",l.leafletRef.getBounds()))}),overlayadd(g){const h=l.layersInControl.find(S=>S.name===g.name);h&&h.updateVisibleProp(!0)},overlayremove(g){const h=l.layersInControl.find(S=>S.name===g.name);h&&h.updateVisibleProp(!1)}};k(async()=>{e.useGlobalLeaflet&&(O.L=O.L||await _(()=>import("./poisStore-DeUDQaGf.js").then(c=>c.l),__vite__mapDeps([0,1,2])));const{map:g,CRS:h,Icon:S,latLngBounds:$,latLng:le,stamp:T}=e.useGlobalLeaflet?O.L:await _(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);try{n.beforeMapMount&&await n.beforeMapMount()}catch(c){console.error(`The following error occurred running the provided beforeMapMount hook ${c.message}`)}await Ge(S);const Me=typeof n.crs=="string"?h[n.crs]:n.crs;n.crs=Me||h.EPSG3857;const G={addLayer(c){c.layerType!==void 0&&(l.layerControl===void 0?l.layersToAdd.push(c):l.layersInControl.find(v=>T(v.leafletObject)===T(c.leafletObject))||(l.layerControl.addLayer(c),l.layersInControl.push(c))),c.visible!==!1&&l.leafletRef.addLayer(c.leafletObject)},removeLayer(c){c.layerType!==void 0&&(l.layerControl===void 0?l.layersToAdd=l.layersToAdd.filter(v=>v.name!==c.name):(l.layerControl.removeLayer(c.leafletObject),l.layersInControl=l.layersInControl.filter(v=>T(v.leafletObject)!==T(c.leafletObject)))),l.leafletRef.removeLayer(c.leafletObject)},registerLayerControl(c){l.layerControl=c,l.layersToAdd.forEach(v=>{l.layerControl.addLayer(v)}),l.layersToAdd=[],p(c)},registerControl(c){l.leafletRef.addControl(c.leafletObject)},setZoom(c){const v=l.leafletRef.getZoom();c!==v&&l.leafletRef.setZoom(c,f.value)},setCrs(c){const v=l.leafletRef.getBounds();l.leafletRef.options.crs=c,l.leafletRef.fitBounds(v,{animate:!1,padding:[0,0]})},fitBounds(c){l.leafletRef.fitBounds(c,u.value)},setBounds(c){if(!c)return;const v=$(c);v.isValid()&&!(l.lastSetBounds||l.leafletRef.getBounds()).equals(v,0)&&(l.lastSetBounds=v,l.leafletRef.fitBounds(v))},setCenter(c){if(c==null)return;const v=le(c),me=l.lastSetCenter||l.leafletRef.getCenter();(me.lat!==v.lat||me.lng!==v.lng)&&(l.lastSetCenter=v,l.leafletRef.panTo(v,f.value))}};te(r,G.addLayer),te(y,G.removeLayer),te(p,G.registerControl),te(d,G.registerLayerControl),l.leafletRef=z(g(o.value,n)),N(G,l.leafletRef,e),Se(l.leafletRef,C),Se(l.leafletRef,i),l.ready=!0,w(()=>t.emit("ready",l.leafletRef))}),oe(()=>{Ae(C),l.leafletRef&&(l.leafletRef.off(),l.leafletRef.remove())});const V=Y(()=>l.leafletRef),P=Y(()=>l.ready);return{root:o,ready:P,leafletObject:V,attrs:s}},render({attrs:e}){return e.style||(e.style={}),e.style.width||(e.style.width="100%"),e.style.height||(e.style.height="100%"),x("div",{...e,ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),lt=["Symbol(Comment)","Symbol(Text)"],nt=["LTooltip","LPopup"],xe={...F,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}},at=(e,t,o)=>{const{options:l,methods:a}=de(e,t,o),n=A(e,xe,l),i={...a,setDraggable(s){t.value.dragging&&(s?t.value.dragging.enable():t.value.dragging.disable())},latLngSync(s){o.emit("update:latLng",s.latlng),o.emit("update:lat-lng",s.latlng)},setLatLng(s){if(s!=null&&t.value){const r=t.value.getLatLng();(!r||!r.equals(s))&&t.value.setLatLng(s)}}};return{options:n,methods:i}},rt=(e,t)=>{const o=t.slots.default&&t.slots.default();return o&&o.length&&o.some(st)};function st(e){return!(lt.includes(e.type.toString())||nt.includes(e.type.name))}const re=B({name:"LMarker",props:xe,setup(e,t){const o=b(),l=b(!1),a=E(U),n=L(Z);j(Te,()=>{var y;return!!((y=o.value)!=null&&y.getElement())}),j(Re,y=>{var p,d;const f=I((p=o.value)==null?void 0:p.getElement)&&((d=o.value)==null?void 0:d.getElement());f&&(f.innerHTML=y)}),j(je,y=>{var p;return((p=o.value)==null?void 0:p.setIcon)&&o.value.setIcon(y)});const{options:i,methods:s}=at(e,o,t),r={moveHandler:De(s.latLngSync)};return k(async()=>{const{marker:y,divIcon:p}=a?O.L:await _(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);rt(i,t)&&(i.icon=p({className:""})),o.value=z(y(e.latLng,i));const{listeners:d}=M(t.attrs);o.value.on(d),o.value.on("move",r.moveHandler),N(s,o.value,e),n({...e,...s,leafletObject:o.value}),l.value=!0,w(()=>t.emit("ready",o.value))}),oe(()=>Ae(r)),{ready:l,leafletObject:o}},render(){return Ie(this.ready,this.$slots)}}),ye={...ce,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},it=(e,t,o)=>{const{options:l,methods:a}=Xe(e,t,o),n=A(e,ye,l),i={...a,setSmoothFactor(s){t.value.setStyle({smoothFactor:s})},setNoClip(s){t.value.setStyle({noClip:s})},addLatLng(s){t.value.addLatLng(s)}};return{options:n,methods:i}},Oe={...ye},we=B({name:"LPolyline",props:ye,setup(e,t){const o=b(),l=b(!1),a=E(U),n=L(Z),{options:i,methods:s}=it(e,o,t);return k(async()=>{const{polyline:r}=a?O.L:await _(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);o.value=z(r(e.latLngs,i));const{listeners:y}=M(t.attrs);o.value.on(y),N(s,o.value,e),n({...e,...s,leafletObject:o.value}),l.value=!0,w(()=>t.emit("ready",o.value))}),{ready:l,leafletObject:o}},render(){return Ie(this.ready,this.$slots)}}),ze={...K,content:{type:String,default:null}},ut=(e,t)=>{const{options:o,methods:l}=X(e),a={...l,setContent(n){t.value&&n!==null&&n!==void 0&&t.value.setContent(n)}};return{options:o,methods:a}},dt=e=>e.default?x("div",{ref:"root"},e.default()):null,ct={...ze,latLng:{type:[Object,Array],default:()=>[]}},pt=(e,t)=>{const{options:o,methods:l}=ut(e,t);return{options:o,methods:l}},se=B({name:"LPopup",props:ct,setup(e,t){const o=b(),l=b(null),a=E(U),n=L(Be),i=L(ke),{options:s,methods:r}=pt(e,o);return k(async()=>{const{popup:y}=a?O.L:await _(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);o.value=z(y(s)),e.latLng!==void 0&&o.value.setLatLng(e.latLng),N(r,o.value,e);const{listeners:p}=M(t.attrs);o.value.on(p),o.value.setContent(e.content||l.value||""),n(o.value),w(()=>t.emit("ready",o.value))}),oe(()=>{i()}),{root:l,leafletObject:o}},render(){return dt(this.$slots)}});({...Oe,latLngs:{...Oe.latLngs}});const fe={...pe,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:e=>typeof e=="string"?!0:Array.isArray(e)?e.every(t=>typeof t=="string"):!1},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}},yt=(e,t,o)=>{const{options:l,methods:a}=Ue(e,t,o),n=A(e,fe,l),i={...a};return{options:n,methods:i}},ft=B({props:fe,setup(e,t){const o=b(),l=E(U),a=L(Z),{options:n,methods:i}=yt(e,o,t);return k(async()=>{const{tileLayer:s}=l?O.L:await _(()=>import("./leaflet-src.esm-HdBnhJze.js"),[]);o.value=z(s(e.url,n));const{listeners:r}=M(t.attrs);o.value.on(r),N(i,o.value,e),a({...e,...i,leafletObject:o.value}),w(()=>t.emit("ready",o.value))}),{leafletObject:o}},render(){return null}});({...ze});({...fe});const mt={class:"w-full h-full"},vt={class:"flex flex-col gap-2"},gt=["onClick"],bt=B({__name:"MapView",setup(e,{expose:t}){const o=Ze(),l=Fe(),a=b(null),n=new Le.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),i=new Le.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),s=d=>{if(o.isRecording){const f=[d.latlng.lat,d.latlng.lng];o.addPointToPath(f)}else{const f=[d.latlng.lat,d.latlng.lng];o.addUserMarker(f)}};return t({centerOnUser:async()=>{try{await o.centerOnUser()}catch(d){alert(d.message||"Failed to get your location")}},toggleRecording:()=>{o.toggleRecording()},clearPath:()=>{o.clearPath()}}),k(()=>{w(()=>{var d;(d=a.value)!=null&&d.leafletObject&&a.value.leafletObject.invalidateSize()})}),(d,f)=>(R(),Q("div",mt,[H(m(ot),{ref_key:"mapComponent",ref:a,zoom:m(o).zoom,center:m(o).center,"onUpdate:zoom":f[0]||(f[0]=u=>m(o).setZoom(u)),"onUpdate:center":f[1]||(f[1]=u=>m(o).setCenter(u)),onClick:s,options:{touchZoom:!0,doubleClickZoom:!0,scrollWheelZoom:!0,tap:!0,tapTolerance:15,dragging:!0,zoomControl:!0,attributionControl:!0},class:"w-full h-full"},{default:D(()=>[H(m(ft),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png","layer-type":"base",name:"OpenStreetMap",attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),m(o).userLocation?(R(),W(m(re),{key:0,"lat-lng":m(o).userLocation,icon:m(n)},{default:D(()=>[H(m(se),null,{default:D(()=>[...f[2]||(f[2]=[ge("Your Location",-1)])]),_:1})]),_:1},8,["lat-lng","icon"])):be("",!0),(R(!0),Q(ne,null,ae(m(l).pois,u=>(R(),W(m(re),{key:u.id,"lat-lng":u.coordinates,icon:m(l).getMarkerIcon(u.category)},{default:D(()=>[H(m(se),null,{default:D(()=>[J("b",null,he(u.name),1),f[3]||(f[3]=J("br",null,null,-1)),ge(he(u.description),1)]),_:2},1024)]),_:2},1032,["lat-lng","icon"]))),128)),(R(!0),Q(ne,null,ae(m(o).userMarkers,u=>(R(),W(m(re),{key:u.id,"lat-lng":u.position,icon:m(i)},{default:D(()=>[H(m(se),null,{default:D(()=>[J("div",vt,[f[4]||(f[4]=J("span",null,"User Marker",-1)),J("button",{onClick:C=>m(o).removeUserMarker(u.id),class:"btn btn-xs btn-error"}," Delete ",8,gt)])]),_:2},1024)]),_:2},1032,["lat-lng","icon"]))),128)),m(o).currentPath.length>0?(R(),W(m(we),{key:1,"lat-lngs":m(o).currentPath,color:"red",weight:4,opacity:.7},null,8,["lat-lngs"])):be("",!0),(R(!0),Q(ne,null,ae(m(o).savedPaths,u=>(R(),W(m(we),{key:u.id,"lat-lngs":u.points,color:"blue",weight:3,opacity:.5},null,8,["lat-lngs"]))),128))]),_:1},8,["zoom","center"])]))}}),ht=(e,t)=>{const o=e.__vccOpts||e;for(const[l,a]of t)o[l]=a;return o},_t=ht(bt,[["__scopeId","data-v-653dfecf"]]);export{_t as default};
